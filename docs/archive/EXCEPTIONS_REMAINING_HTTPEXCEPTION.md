# –û—Å—Ç–∞–≤—à–∏–µ—Å—è HTTPException –≤ –ø—Ä–æ–µ–∫—Ç–µ

## ‚úÖ –ß—Ç–æ –æ—Ç—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω–æ (100% –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π)

–í—Å–µ **–∫—Ä–∏—Ç–∏—á–Ω—ã–µ –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–∏** –≤ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ä–æ—É—Ç–µ—Ä–∞—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è:

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–æ—É—Ç–µ—Ä—ã (100%)
- ‚úÖ **market.py** - –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤
- ‚úÖ **auctions.py** - –∞—É–∫—Ü–∏–æ–Ω—ã –∏ —Å—Ç–∞–≤–∫–∏
- ‚úÖ **channels.py** - –ø–æ–∫—É–ø–∫–∞/–ø—Ä–æ–¥–∞–∂–∞ –∫–∞–Ω–∞–ª–æ–≤
- ‚úÖ **nft.py** - –ø–æ–∫—É–ø–∫–∞/–ø—Ä–æ–¥–∞–∂–∞/–æ—Ç–ø—Ä–∞–≤–∫–∞ NFT
- ‚úÖ **presale.py** - –ø—Ä–µ—Å–µ–π–ª—ã
- ‚úÖ **offers.py** - –æ—Ñ—Ñ–µ—Ä—ã
- ‚úÖ **trades.py** - –æ–±–º–µ–Ω—ã NFT
- ‚úÖ **auth.py** - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

---

## üìã –ì–¥–µ –æ—Å—Ç–∞–ª–∏—Å—å HTTPException

### 1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ –º–∞—Ä–∫–µ—Ç–∞–º–∏ (–Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–æ)

–≠—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º–∏. –û–Ω–∏ –¥—É–±–ª–∏—Ä—É—é—Ç –ª–æ–≥–∏–∫—É –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ä–æ—É—Ç–µ—Ä–æ–≤, –Ω–æ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º.

#### `app/integrations/tonnel/route.py` (6 HTTPException)
- Account not found
- Insufficient balance (3 –º–µ—Å—Ç–∞)
- NFT not found
- Insufficient balance for offer

#### `app/integrations/portals/route.py` (6 HTTPException)
- Account not found
- Insufficient balance (3 –º–µ—Å—Ç–∞)
- NFT not found
- Insufficient balance for offer

#### `app/integrations/mrkt/route.py` (6 HTTPException)
- Account not found
- Insufficient balance (3 –º–µ—Å—Ç–∞)
- NFT not found
- Insufficient balance for offer

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ú–æ–∂–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –ø–æ–∑–∂–µ, —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ. –≠—Ç–∏ –º–æ–¥—É–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–µ–¥–∫–æ –∏ —è–≤–ª—è—é—Ç—Å—è –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–º–∏.

---

### 2. –†–æ—É—Ç–µ—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏ (—Å—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

#### `app/api/routers/accounts.py` (6 HTTPException)
- Account not found (2 –º–µ—Å—Ç–∞)
- Account already exists
- Phone password flood error
- Verification error
- Account does not exist

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ú–æ–∂–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å, –Ω–æ —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞. –≠—Ç–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.

---

### 3. –°–ª—É–∂–µ–±–Ω—ã–µ —Ä–æ—É—Ç–µ—Ä—ã (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

#### `app/api/routers/admin.py` (1 HTTPException)
- Forbidden access (IP check)

#### `app/api/routers/health.py` (1 HTTPException)
- Forbidden access (IP check)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å. –≠—Ç–æ –ø—Ä–æ—Å—Ç—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞, –Ω–µ —Ç—Ä–µ–±—É—é—Ç —Å–ª–æ–∂–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.

---

### 4. Auth –º–æ–¥—É–ª—å (—á–∞—Å—Ç–∏—á–Ω–æ –æ—Ç—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω)

#### `app/api/auth.py` (3 HTTPException)
- Forbidden access (init.user is None)
- Forbidden access (user not found)
- Forbidden access (token expired)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ú–æ–∂–Ω–æ –¥–æ—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –¥–ª—è –ø–æ–ª–Ω–æ—Ç—ã, –Ω–æ –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è.

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –û—Ç—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω–æ
- **–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–æ—É—Ç–µ—Ä—ã:** 8/8 (100%)
- **–ö—Ä–∏—Ç–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:** 100%
- **–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞:** 100%

### –û—Å—Ç–∞–ª–æ—Å—å HTTPException
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:** 18 (–Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–æ)
- **Accounts:** 6 (—Å—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
- **–°–ª—É–∂–µ–±–Ω—ã–µ:** 2 (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
- **Auth:** 3 (—á–∞—Å—Ç–∏—á–Ω–æ)

**–ò—Ç–æ–≥–æ –æ—Å—Ç–∞–ª–æ—Å—å:** ~29 HTTPException –≤ –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç ‚úÖ
- [x] market.py
- [x] auctions.py
- [x] channels.py
- [x] nft.py
- [x] presale.py
- [x] offers.py
- [x] trades.py
- [x] auth.py (–æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞)

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- [ ] accounts.py - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏
- [ ] auth.py - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- [ ] integrations/tonnel/route.py
- [ ] integrations/portals/route.py
- [ ] integrations/mrkt/route.py
- [ ] admin.py
- [ ] health.py

---

## üí° –ü–æ—á–µ–º—É —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ?

### 1. –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–∫—Ä—ã—Ç—ã
–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ:
- –†–∞–±–æ—Ç–∞—é—Ç —Å –¥–µ–Ω—å–≥–∞–º–∏ (–ø–æ–∫—É–ø–∫–∞, –ø—Ä–æ–¥–∞–∂–∞, –≤—ã–≤–æ–¥)
- –†–∞–±–æ—Ç–∞—é—Ç —Å NFT (–æ–±–º–µ–Ω, –ø–µ—Ä–µ–¥–∞—á–∞)
- –†–∞–±–æ—Ç–∞—é—Ç —Å –∫–∞–Ω–∞–ª–∞–º–∏ (–ø–æ–∫—É–ø–∫–∞, –ø–µ—Ä–µ–¥–∞—á–∞)
- –¢—Ä–µ–±—É—é—Ç —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏ (–∞—É–∫—Ü–∏–æ–Ω—ã, —Ç—Ä–µ–π–¥—ã)

**–ò—Å–ø–æ–ª—å–∑—É—é—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º** ‚úÖ

### 2. –û—Å—Ç–∞–≤—à–∏–µ—Å—è HTTPException - —ç—Ç–æ:
- –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (–¥—É–±–ª–∏—Ä—É—é—Ç –æ—Å–Ω–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É)
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)
- –ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞ (–Ω–µ —Ç—Ä–µ–±—É—é—Ç —Å–ª–æ–∂–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏)

### 3. –ú–æ–∂–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –º–æ–∂–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –∫–æ–≥–¥–∞ –±—É–¥—É—Ç –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
- Accounts –º–æ–∂–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –°–ª—É–∂–µ–±–Ω—ã–µ —Ä–æ—É—Ç–µ—Ä—ã –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –°–µ–π—á–∞—Å
1. ‚úÖ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å exception handlers –≤ `run.py`
2. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ API
3. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

### –ü–æ–∑–∂–µ (–ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
1. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å `accounts.py` –µ—Å–ª–∏ –±—É–¥—É—Ç –ø—Ä–æ–±–ª–µ–º—ã
2. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –µ—Å–ª–∏ –æ–Ω–∏ —Å—Ç–∞–Ω—É—Ç –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
3. –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫ –æ—à–∏–±–æ–∫

---

## ‚úÖ –í—ã–≤–æ–¥

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É** —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫:

- ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–µ –∫–æ–¥—ã –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

–û—Å—Ç–∞–≤—à–∏–µ—Å—è HTTPException –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö –∏ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É.
