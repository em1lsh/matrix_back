# –ü—Ä–æ–≥—Ä–µ—Å—Å –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π

## ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

### 1. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (100%)
- [x] –°–æ–∑–¥–∞–Ω–∞ –∏–µ—Ä–∞—Ä—Ö–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ `app/exceptions/__init__.py`
  - –ë–∞–∑–æ–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `AppException`
  - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (400): `BusinessLogicError`, `ResourceNotFoundError`, `InsufficientBalanceError`, etc.
  - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (401): `AuthenticationError`
  - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (403): `PermissionDeniedError`
  - –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã (409): `ResourceConflictError`, `LockTimeoutError`
  - –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã (502): `TelegramAPIError`, `TONWalletError`
  - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (500): `DatabaseError`, `TransactionError`

- [x] –°–æ–∑–¥–∞–Ω exception handler middleware –≤ `app/api/exception_handlers.py`
  - `app_exception_handler` - –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π
  - `http_exception_handler` - –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
  - `validation_exception_handler` - –¥–ª—è Pydantic –æ—à–∏–±–æ–∫
  - `generic_exception_handler` - fallback –¥–ª—è –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫

- [x] –û–±–Ω–æ–≤–ª–µ–Ω `app/db/uow.py`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `CommitAfterRollbackError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `TransactionError`
  - –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- [x] –û–±–Ω–æ–≤–ª–µ–Ω `app/utils/locks.py`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `LockTimeoutError` –∏–∑ exceptions
  - –£–¥–∞–ª–µ–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ –∫–ª–∞—Å—Å—ã

### 2. –¢–µ—Å—Ç—ã (100%)
- [x] –°–æ–∑–¥–∞–Ω `tests/test_exceptions.py` —Å 17 —Ç–µ—Å—Ç–∞–º–∏
  - –¢–µ—Å—Ç—ã –±–∞–∑–æ–≤—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π
  - –¢–µ—Å—Ç—ã —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
  - –¢–µ—Å—Ç—ã —Ä–µ—Å—É—Ä—Å–æ–≤ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
  - –¢–µ—Å—Ç—ã –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞
  - –¢–µ—Å—Ç—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
  - –¢–µ—Å—Ç—ã –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
  - –¢–µ—Å—Ç—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
  - –¢–µ—Å—Ç—ã –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
  - –¢–µ—Å—Ç—ã –ë–î
  - –¢–µ—Å—Ç—ã –∏–µ—Ä–∞—Ä—Ö–∏–∏

- [x] –û–±–Ω–æ–≤–ª–µ–Ω `tests/test_uow.py`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `CommitAfterRollbackError`

**–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç: 23/23 ‚úÖ**

### 3. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ä–æ—É—Ç–µ—Ä–æ–≤

#### ‚úÖ market.py (100%)
- [x] –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- [x] –î–æ–±–∞–≤–ª–µ–Ω logger
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `output()` endpoint:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `InsufficientBalanceError` –≤–º–µ—Å—Ç–æ HTTPException
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `WithdrawalFailedError` –¥–ª—è –æ—à–∏–±–æ–∫ TON
  - –î–æ–±–∞–≤–ª–µ–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
    - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—á–∞–ª–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏
    - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞ (WARNING)
    - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤—ã–≤–æ–¥–∞ (ERROR —Å —Ç—Ä–µ–π—Å–æ–º)
    - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (INFO)

#### ‚úÖ auctions.py (100%)
- [x] –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- [x] –î–æ–±–∞–≤–ª–µ–Ω logger
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `new_auction()`:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `NFTNotFoundError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `AuctionAlreadyExistsError`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `delete_auction()`:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `AuctionNotFoundError`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `new_bid()`:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `InsufficientBalanceError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `AuctionNotFoundError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `BidTooLowError`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

#### ‚úÖ channels.py (100%)
- [x] –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- [x] –î–æ–±–∞–≤–ª–µ–Ω logger
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `add_channel()`:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `AccountNotFoundError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `NotChannelError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `NotChannelCreatorError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `ChannelHasNoGiftsError`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `set_price()`:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `ChannelNotFoundError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `AccountTooNewError`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `buy_channel()`:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `ChannelNotFoundError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `InsufficientBalanceError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `AccountNotFoundError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `ChannelGiftsModifiedError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `UserNotMutualContactError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `ChannelTransferFailedError`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤

#### ‚úÖ nft.py (100%)
- [x] –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- [x] –î–æ–±–∞–≤–ª–µ–Ω logger
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `set_price_nft()`:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `NFTNotFoundError`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `buy_nft()`:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `NFTNotFoundError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `InsufficientBalanceError`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫—É–ø–∫–∏

---

## üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ

### 4. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è exception handlers
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `project/run.py` –∏–ª–∏ –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [ ] –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å handlers —á–µ—Ä–µ–∑ `register_exception_handlers(app)`
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ API

---

## üìã –û—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å

### 5. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ä–æ—É—Ç–µ—Ä–æ–≤

#### ‚úÖ presale.py (100%)
- [x] –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- [x] –î–æ–±–∞–≤–ª–µ–Ω logger
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `set_price()`:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `InsufficientBalanceError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `PresaleNotFoundError`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–∞
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `delete_presale()`:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `PresaleNotFoundError`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—Ç–∞ –¥–µ–ø–æ–∑–∏—Ç–∞
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `buy_presale()`:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `InsufficientBalanceError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `PresaleNotFoundError`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

#### ‚úÖ offers.py (100%)
- [x] –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- [x] –î–æ–±–∞–≤–ª–µ–Ω logger
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `new_offer()`:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `OfferAlreadyExistsError`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `refuse_offer()`:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `OfferNotFoundError`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `accept_offer()`:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `OfferNotFoundError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `InsufficientBalanceError`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–¥–µ–ª–∫–∏

#### ‚úÖ trades.py (100%)
- [x] –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- [x] –î–æ–±–∞–≤–ª–µ–Ω logger
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `new_trade()`:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `NFTsNotFoundError`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `new_proposal()`:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `NFTsNotFoundError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `TradeNotFoundError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `ProposalAlreadyExistsError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `TradeRequirementsNotMetError`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `cancel_proposal()`:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `ProposalNotFoundError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `NotResourceOwnerError`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `accept_proposal()`:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `ProposalNotFoundError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `NotResourceOwnerError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `InsufficientBalanceError`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∏—Å—Å–∏–π

#### ‚úÖ auth.py (100%)
- [x] –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- [x] –î–æ–±–∞–≤–ª–µ–Ω logger
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `get_current_user()`:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `AuthenticationError`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `InvalidInitDataError`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
- [ ] –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å exception handlers –≤ FastAPI app
- [ ] –î–æ–±–∞–≤–∏—Ç—å middleware –¥–ª—è request context (request_id, user_id)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (JSON —Ñ–æ—Ä–º–∞—Ç)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ `run.py`

### 7. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç HTTPException
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è exception handlers
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ API (Postman/curl)

### 8. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] –û–±–Ω–æ–≤–∏—Ç—å API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —Å –Ω–æ–≤—ã–º–∏ –∫–æ–¥–∞–º–∏ –æ—à–∏–±–æ–∫
- [ ] –°–æ–∑–¥–∞—Ç—å —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–¥–æ–≤ –æ—à–∏–±–æ–∫ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- [ ] –û–±–Ω–æ–≤–∏—Ç—å README —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —Ä–æ—É—Ç–µ—Ä–∞–º
- ‚úÖ market.py - 100%
- ‚úÖ auctions.py - 100%
- ‚úÖ channels.py - 100%
- ‚úÖ nft.py - 100%
- ‚úÖ presale.py - 100%
- ‚úÖ offers.py - 100%
- ‚úÖ trades.py - 100%
- ‚úÖ auth.py - 100%

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: 100% (8/8 –º–æ–¥—É–ª–µ–π)**

### –¢–µ—Å—Ç—ã
- ‚úÖ test_exceptions.py - 17 —Ç–µ—Å—Ç–æ–≤
- ‚úÖ test_uow.py - 6 —Ç–µ—Å—Ç–æ–≤
- **–í—Å–µ–≥–æ: 23 —Ç–µ—Å—Ç–∞, –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç ‚úÖ**

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
1. `backend/project/app/exceptions/__init__.py` - 450 —Å—Ç—Ä–æ–∫
2. `backend/project/app/api/exception_handlers.py` - 200 —Å—Ç—Ä–æ–∫
3. `backend/tests/test_exceptions.py` - 200 —Å—Ç—Ä–æ–∫
4. `backend/docs/EXCEPTIONS_ANALYSIS.md` - –∞–Ω–∞–ª–∏–∑
5. `backend/docs/EXCEPTIONS_IMPLEMENTATION_PROGRESS.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å exception handlers** –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (run.py)
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** —á–µ—Ä–µ–∑ API —á—Ç–æ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. **–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** API —Å –∫–æ–¥–∞–º–∏ –æ—à–∏–±–æ–∫ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** –º–µ—Ç—Ä–∏–∫ –æ—à–∏–±–æ–∫
5. **–î–æ–±–∞–≤–∏—Ç—å –∞–ª–µ—Ä—Ç—ã** –Ω–∞ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

---

## üí° –ó–∞–º–µ—Ç–∫–∏

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —É–∂–µ –≤–∏–¥–Ω—ã:
- ‚úÖ –ö–æ–¥ —Å—Ç–∞–ª —á–∏—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (user_id, amounts, etc.)
- ‚úÖ –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ —Å—Ç—Ä–æ–∫
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫

### –ß—Ç–æ —É–ª—É—á—à–∏–ª–æ—Å—å:
```python
# –ë—ã–ª–æ:
raise HTTPException(
    status_code=http.HTTPStatus.BAD_REQUEST,
    detail="Insufficient balance."
)

# –°—Ç–∞–ª–æ:
logger.warning(
    f"Insufficient balance for withdrawal",
    extra={
        "user_id": user.id,
        "required": required_nanotons,
        "available": user.market_balance,
        "ton_amount": ton_amount
    }
)
raise InsufficientBalanceError(
    required=required_nanotons,
    available=user.market_balance
)
```

### –ü–æ–ª—å–∑–∞:
1. **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤**: –ø–æ–Ω—è—Ç–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫, –ª–µ–≥–∫–æ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å
2. **–î–ª—è –ª–æ–≥–æ–≤**: —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –ª–µ–≥–∫–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
3. **–î–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞**: —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –∫–æ–¥—ã –æ—à–∏–±–æ–∫, –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å
4. **–î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**: –º–µ—Ç—Ä–∏–∫–∏ –ø–æ —Ç–∏–ø–∞–º –æ—à–∏–±–æ–∫
